<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{{ page_title or 'Medusa ‚Äì Media Server' }}{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Manrope:wght@400;500;600;700&display=swap"
    />
    <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,500,0,0"
    />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
</head>
<body data-current-page="{{ active_page|default('start') }}" data-load-all-movies="{{ 'true' if load_all_movies|default(False) else 'false' }}">
    <div class="page-shell">
        <header class="topbar">
            <div class="topbar__brand">
                <div class="brand-logo" aria-hidden="true">üúÅ</div>
                <div class="brand-text">
                    <span class="brand-text__title">Medusa</span>
                    <span class="brand-text__subtitle">Streaming Hub</span>
                </div>
            </div>
            <nav class="topbar__nav" aria-label="Hauptnavigation">
                <a href="{{ url_for('index') }}" class="nav-link{% if active_page == 'start' %} is-active{% endif %}" data-navigation="route">
                    <span class="material-symbols-outlined" aria-hidden="true">home</span>
                    <span>Startseite</span>
                </a>
                <a href="{{ url_for('filme') }}" class="nav-link{% if active_page == 'filme' %} is-active{% endif %}" data-navigation="route">
                    <span class="material-symbols-outlined" aria-hidden="true">movie</span>
                    <span>Filme</span>
                </a>
                <a href="{{ url_for('serien') }}" class="nav-link{% if active_page == 'serien' %} is-active{% endif %}" data-navigation="route">
                    <span class="material-symbols-outlined" aria-hidden="true">tv</span>
                    <span>Serien</span>
                </a>
                <a href="{{ url_for('scraper_view') }}" class="nav-link{% if active_page == 'scraper' %} is-active{% endif %}" data-navigation="route">
                    <span class="material-symbols-outlined" aria-hidden="true">link</span>
                    <span>Scraper</span>
                </a>
                <a href="{{ url_for('settings_view') }}" class="nav-link{% if active_page == 'settings' %} is-active{% endif %}" data-navigation="route">
                    <span class="material-symbols-outlined" aria-hidden="true">settings</span>
                    <span>Einstellungen</span>
                </a>
            </nav>
            <div class="topbar__actions">
                <form class="topbar-search" role="search">
                    <span class="material-symbols-outlined" aria-hidden="true">search</span>
                    <input type="search" name="q" placeholder="Bibliothek oder TMDB durchsuchen" autocomplete="off" />
                </form>
                <button id="syncTmdb" class="icon-button" type="button" title="TMDB synchronisieren">
                    <span class="material-symbols-outlined" aria-hidden="true">sync</span>
                </button>
                <button id="scrapeKinox" class="icon-button" type="button" title="Kinox scrapen">
                    <span class="material-symbols-outlined" aria-hidden="true">cloud_download</span>
                </button>
                <button class="icon-button" type="button" title="Benachrichtigungen">
                    <span class="material-symbols-outlined" aria-hidden="true">notifications</span>
                </button>
                <div class="avatar" role="img" aria-label="Benutzerprofil">
                    <span>ME</span>
                </div>
            </div>
        </header>

        <main class="page-content">
            {% block preface %}{% endblock %}
            {% block main %}{% endblock %}
        </main>
    </div>

    {% if show_detail_panel %}
        {% include 'partials/detail_panel.html' %}
        {% include 'partials/trailer_modal.html' %}
    {% endif %}

    <div class="toast" id="toast" role="status" aria-live="polite"></div>
    <script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
</body>
</html>
